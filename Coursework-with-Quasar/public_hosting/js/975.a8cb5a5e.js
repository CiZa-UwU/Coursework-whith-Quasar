"use strict";(globalThis["webpackChunkcoursework_whith_quasar"]=globalThis["webpackChunkcoursework_whith_quasar"]||[]).push([[975],{4975:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var a=t(9835),n=t(1957),i=t(6970);const o={key:0,class:"container"},c={class:"name-container"},r={key:1,class:"chat-container"},l={class:"list-container"},d={class:"text-input-container"};function u(e,s,t,u,h,g){return(0,a.wg)(),(0,a.iD)(a.HY,null,[h.joined?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{type:"text",class:"user-name",placeholder:"Никнейм","onUpdate:modelValue":s[0]||(s[0]=e=>h.currentUser=e)},null,512),[[n.nr,h.currentUser]]),(0,a._)("button",{class:"join-button",onClick:s[1]||(s[1]=(...e)=>g.join&&g.join(...e))},"В чат")])])),h.joined?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.messages,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("b",null,(0,i.zw)(e.user),1),(0,a.Uk)(" : "+(0,i.zw)(e.text),1)])))),128))]),(0,a._)("div",d,[(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":s[2]||(s[2]=e=>h.text=e),class:"text-message",placeholder:"Написать сообщения...",onKeyup:s[3]||(s[3]=(0,n.D2)(((...e)=>g.sendMessage&&g.sendMessage(...e)),["enter"]))},null,544),[[n.nr,h.text]])])])):(0,a.kq)("",!0)],64)}var h=t(8151);const g={data(){return{joined:!1,currentUser:"",text:"",messages:[]}},methods:{join(){this.joined=!0,this.socketInstance=(0,h.ZP)("http://localhost:3000"),this.socketInstance.on("message:received",(e=>{this.messages=this.messages.concat(e)}))},sendMessage(){this.addMessage(),this.text=""},addMessage(){const e={id:(new Date).getTime(),text:this.text,user:this.currentUser};this.messages=this.messages.concat(e),this.socketInstance.emit("message",e)}},name:"ChatApp"};var m=t(1639);const k=(0,m.Z)(g,[["render",u],["__scopeId","data-v-e0829800"]]),w=k}}]);