(globalThis["webpackChunkcoursework_whith_quasar"]=globalThis["webpackChunkcoursework_whith_quasar"]||[]).push([[551],{4551:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>H});var l=t(9835),s=t(6977),i=t.n(s);const n=e=>((0,l.dD)("data-v-6625b6c0"),e=e(),(0,l.Cn)(),e),u={class:"app"},c={class:"justify-center flex"},d={class:"game3_wrapper"},r=n((()=>(0,l._)("img",{class:"logo",src:i(),alt:""},null,-1))),o=n((()=>(0,l._)("h1",{class:"h1"}," Remember Me ",-1))),v=n((()=>(0,l._)("p",null,"Запомни и открой все зеленые клетки",-1)));function f(e,a,t,s,i,n){const f=(0,l.up)("Board"),p=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(p,null,{default:(0,l.w5)((()=>[(0,l._)("div",u,[(0,l._)("div",c,[(0,l._)("div",d,[r,o,v,(0,l.Wm)(f)])])])])),_:1})}var p=t(6970);const m={class:"board-wrapper"},g={class:"board"},I={class:"difficult"},_={key:0,class:"win"},E={key:1,class:"fail"},F=["disabled"];function k(e,a,t,s,i,n){const u=(0,l.up)("BoardItem"),c=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(c,{style:{"min-height":"500px"}},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l._)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.fields,(e=>((0,l.wg)(),(0,l.j4)(u,{"game-status":s.gameStatus,field:e,key:"item-"+e.id,onSelectField:a[0]||(a[0]=e=>s.selectField(e))},null,8,["game-status","field"])))),128))]),(0,l._)("p",I,[(0,l.Uk)("Сложность: "),(0,l._)("strong",null,(0,p.zw)(s.difficult),1)]),s.isWin?((0,l.wg)(),(0,l.iD)("p",_," Поздравляем! Продолжаем играть")):(0,l.kq)("",!0),s.isFail?((0,l.wg)(),(0,l.iD)("p",E," Вы проиграли. Повезет в следующий раз!")):(0,l.kq)("",!0),(0,l._)("button",{class:"btn",onClick:a[1]||(a[1]=(...e)=>s.start&&s.start(...e)),disabled:!s.canStartGame},"Старт",8,F)])])),_:1})}function w(e,a,t,s,i,n){return(0,l.wg)(),(0,l.iD)("span",{class:(0,p.C_)(s.getBoardItemClasses),onClick:a[0]||(a[0]=e=>n.select(t.field.id))},null,2)}const h={EMPTY:0,FILLED:1},b=3,L=10,D=2e3,T={NONE:0,PREVIEW:1,STARTED:2,WIN:3,FAIL:4},S={name:"BoardItem",props:{field:{type:Object,required:!0},gameStatus:{type:Number,required:!1,default:T.NONE}},setup(e){const a=(0,l.Fl)((()=>{let a="item ";return(e.field.value===h.FILLED&&e.gameStatus===T.PREVIEW||e.field.clicked&&e.field.value===h.FILLED)&&(a+=" active"),e.field.clicked&&e.field.value===h.EMPTY&&(a+=" error"),a}));return{getBoardItemClasses:a}},methods:{select(e){this.gameStatus===T.STARTED&&this.$emit("selectField",e)}}};var W=t(1639);const N=(0,W.Z)(S,[["render",w],["__scopeId","data-v-0b09d050"]]),P=N;t(9665);var q=t(499);function y(e){let a=(0,q.iH)(b),t=(0,q.iH)([]);const s=()=>{t.value=[];for(let a=0;a<e;a++)t.value.push({id:a,clicked:!1,value:h.EMPTY})};return(0,l.YP)(a,(e=>{e>L&&(a.value=L)})),(0,l.wF)(s),{difficult:a,fields:t,init:s}}function B(e,a,t,s,i){const n=()=>{e(),u()},u=()=>{i.value=T.PREVIEW;for(let e=0;e<t.value;e++){const t=c(0,s-1);a.value[t].value!==h.FILLED?a.value[t].value=h.FILLED:e--}setTimeout((()=>{i.value=T.STARTED}),D)},c=(e,a)=>Math.floor(Math.random()*(a-e))+e,d=(0,l.Fl)((()=>i.value!==T.PREVIEW&&i.value!==T.WIN));return{start:n,canStartGame:d}}function C(e,a,t,s){const i=a=>{const t=e.value.findIndex((e=>e.id===a));t>-1&&!e.value[t].clicked&&(e.value[t].clicked=!0,n())},n=()=>{const a=e.value.findIndex((e=>e.clicked&&e.value===h.EMPTY));if(a>-1)return void u();const t=e.value.findIndex((e=>!e.clicked&&e.value===h.FILLED));-1===t&&c()},u=()=>{a.value=T.FAIL,t.value=b},c=()=>{a.value=T.WIN,setTimeout((async()=>{t.value+=1,await(0,l.Y3)(),s()}),D)},d=(0,l.Fl)((()=>a.value===T.WIN)),r=(0,l.Fl)((()=>a.value===T.FAIL));return{selectField:i,isWin:d,isFail:r}}const R={name:"Board",props:{},components:{BoardItem:P},setup(){const e=25,a=(0,q.iH)(T.NONE),{difficult:t,fields:l,init:s}=y(e),{start:i,canStartGame:n}=B(s,l,t,e,a),{selectField:u,isWin:c,isFail:d}=C(l,a,t,i);return{number:e,difficult:t,fields:l,init:s,start:i,gameStatus:a,canStartGame:n,selectField:u,isWin:c,isFail:d}}};var A=t(9885),M=t(9984),Y=t.n(M);const x=(0,W.Z)(R,[["render",k],["__scopeId","data-v-c2e8f81c"]]),j=x;Y()(R,"components",{QPage:A.Z});const Z={name:"App",components:{Board:j}},G=(0,W.Z)(Z,[["render",f],["__scopeId","data-v-6625b6c0"]]),H=G;Y()(Z,"components",{QPage:A.Z})},6977:(e,a,t)=>{e.exports=t.p+"img/zap.0e429da2.png"}}]);