(globalThis["webpackChunkcoursework_whith_quasar"]=globalThis["webpackChunkcoursework_whith_quasar"]||[]).push([[353],{5353:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var l=t(9835),i=t(6977),s=t.n(i);const n=e=>((0,l.dD)("data-v-28bf5c8a"),e=e(),(0,l.Cn)(),e),u={class:"app"},c=n((()=>(0,l._)("img",{class:"logo",src:s(),alt:""},null,-1))),d=n((()=>(0,l._)("h1",{class:"h1"}," Remember Me ",-1))),r=n((()=>(0,l._)("p",null,"Запомни и открой все зеленые клетки",-1)));function o(e,a,t,i,s,n){const o=(0,l.up)("Board");return(0,l.wg)(),(0,l.iD)("div",u,[c,d,r,(0,l.Wm)(o)])}var v=t(6970);const f={class:"board-wrapper"},m={class:"board"},p={class:"difficult"},I={key:0,class:"win"},E={key:1,class:"fail"},F=["disabled"];function g(e,a,t,i,s,n){const u=(0,l.up)("BoardItem");return(0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("div",m,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.fields,(e=>((0,l.wg)(),(0,l.j4)(u,{"game-status":i.gameStatus,field:e,key:"item-"+e.id,onSelectField:a[0]||(a[0]=e=>i.selectField(e))},null,8,["game-status","field"])))),128))]),(0,l._)("p",p,[(0,l.Uk)("Сложность: "),(0,l._)("strong",null,(0,v.zw)(i.difficult),1)]),i.isWin?((0,l.wg)(),(0,l.iD)("p",I," Поздравляем! Продолжаем играть")):(0,l.kq)("",!0),i.isFail?((0,l.wg)(),(0,l.iD)("p",E," Вы проиграли. Повезет в следующий раз!")):(0,l.kq)("",!0),(0,l._)("button",{class:"btn",onClick:a[1]||(a[1]=(...e)=>i.start&&i.start(...e)),disabled:!i.canStartGame},"Старт",8,F)])}function k(e,a,t,i,s,n){return(0,l.wg)(),(0,l.iD)("span",{class:(0,v.C_)(i.getBoardItemClasses),onClick:a[0]||(a[0]=e=>n.select(t.field.id))},null,2)}const w={EMPTY:0,FILLED:1},_=3,h=10,b=2e3,D={NONE:0,PREVIEW:1,STARTED:2,WIN:3,FAIL:4},L={name:"BoardItem",props:{field:{type:Object,required:!0},gameStatus:{type:Number,required:!1,default:D.NONE}},setup(e){const a=(0,l.Fl)((()=>{let a="item ";return(e.field.value===w.FILLED&&e.gameStatus===D.PREVIEW||e.field.clicked&&e.field.value===w.FILLED)&&(a+=" active"),e.field.clicked&&e.field.value===w.EMPTY&&(a+=" error"),a}));return{getBoardItemClasses:a}},methods:{select(e){this.gameStatus===D.STARTED&&this.$emit("selectField",e)}}};var T=t(1639);const S=(0,T.Z)(L,[["render",k],["__scopeId","data-v-eec80de4"]]),W=S;t(9665);var N=t(499);function P(e){let a=(0,N.iH)(_),t=(0,N.iH)([]);const i=()=>{t.value=[];for(let a=0;a<e;a++)t.value.push({id:a,clicked:!1,value:w.EMPTY})};return(0,l.YP)(a,(e=>{e>h&&(a.value=h)})),(0,l.wF)(i),{difficult:a,fields:t,init:i}}function B(e,a,t,i,s){const n=()=>{e(),u()},u=()=>{s.value=D.PREVIEW;for(let e=0;e<t.value;e++){const t=c(0,i-1);a.value[t].value!==w.FILLED?a.value[t].value=w.FILLED:e--}setTimeout((()=>{s.value=D.STARTED}),b)},c=(e,a)=>Math.floor(Math.random()*(a-e))+e,d=(0,l.Fl)((()=>s.value!==D.PREVIEW&&s.value!==D.WIN));return{start:n,canStartGame:d}}function C(e,a,t,i){const s=a=>{const t=e.value.findIndex((e=>e.id===a));t>-1&&!e.value[t].clicked&&(e.value[t].clicked=!0,n())},n=()=>{const a=e.value.findIndex((e=>e.clicked&&e.value===w.EMPTY));if(a>-1)return void u();const t=e.value.findIndex((e=>!e.clicked&&e.value===w.FILLED));-1===t&&c()},u=()=>{a.value=D.FAIL,t.value=_},c=()=>{a.value=D.WIN,setTimeout((async()=>{t.value+=1,await(0,l.Y3)(),i()}),b)},d=(0,l.Fl)((()=>a.value===D.WIN)),r=(0,l.Fl)((()=>a.value===D.FAIL));return{selectField:s,isWin:d,isFail:r}}const R={name:"Board",props:{},components:{BoardItem:W},setup(){const e=25,a=(0,N.iH)(D.NONE),{difficult:t,fields:l,init:i}=P(e),{start:s,canStartGame:n}=B(i,l,t,e,a),{selectField:u,isWin:c,isFail:d}=C(l,a,t,s);return{number:e,difficult:t,fields:l,init:i,start:s,gameStatus:a,canStartGame:n,selectField:u,isWin:c,isFail:d}}},A=(0,T.Z)(R,[["render",g],["__scopeId","data-v-4c113925"]]),M=A,Y={name:"App",components:{Board:M}},q=(0,T.Z)(Y,[["render",o],["__scopeId","data-v-28bf5c8a"]]),y=q},6977:(e,a,t)=>{e.exports=t.p+"img/zap.0e429da2.png"}}]);